{% extends 'base.html.twig' %}

{% block title %}Espace Admin{% endblock %}


{% block body %}
    {% if app.user %}
        <header>
            <div class="border-bottom-0" id="container" >
                <div class="row d-flex justify-content-evenly align-items-center">
                    <div class="col-md-2 d-flex flex-column">
                        <img src="{{ asset('images/logo/logo.jpg') }}" alt="Logo" style="width: 150px; margin-left:2.5vw">
                    </div>
                    <div class="col-md-8">
                        <nav class="col-md-12 d-flex justify-content-between">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a href="{{ path('app_admin') }}" class="text-decoration-none" style="color: #00497C">back-office</a>
                            {% endif %}
                            <a href="{{ path('app_home') }}" class="text-decoration-none">accueil</a>
                            <a href="{{ path('app_list_theme') }}" class="text-decoration-none">thèmes</a>
                            <a href="{{ path('app_my_space') }}" class="text-decoration-none">mon espace</a>
                            <a href="{{ path('app_cart') }}" class="text-decoration-none" >panier</a>
                            <a href="{{ path('app_logout') }}" class="text-decoration-none" >se déconnecter</a>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
    {% endif %}
<div id="container" style="padding-bottom: 15vh">
    {% if storage in ['orm', 'both'] %}
        <div id="container" class="row" style="margin: 5vw; background-color: #F1F8FC">    
            <div class="row">
                <h2 style="margin-top: 5vh; margin-left: 1vw" >utilisateurs :</h2>
                <div id="container" class="row" style="margin: 1vw; background-color: #FFFFFF">
                    {% include 'user/_add_user.html.twig' with { 'add_form': add_form } %}
                </div>
                {% include 'user/_user_list_orm.html.twig' with { 'users': users, 'edit_forms': edit_forms } %}
            </div>
            <div class="row">
                <h2 style="margin-top: 5vh; margin-left: 1vw" > formations : </h2>
                <h2 style="margin-top: 5vh; margin-left: 1vw" >thèmes :</h2>
                    <div id="container" class="row" style="margin: 1vw; background-color: #FFFFFF">
                        {% include 'theme/_add_theme.html.twig' with { 'add_theme_form': add_theme_form } %}
                    </div>
                    {% include 'theme/_theme_list_orm.html.twig' with { 'themes': themes, 'edit_theme_forms': edit_theme_forms } %}
            </div>
            <div class="row">
                <h2 style="margin-top: 5vh; margin-left: 1vw" >cursus :</h2>
                <div id="container" class="row" style="margin: 1vw; background-color: #FFFFFF">
                    {% include 'course/_add_course.html.twig' with { 'add_course_form': add_course_form } %}
                </div>
                {% include 'course/_course_list_orm.html.twig' with { 'courses': courses, 'edit_course_forms': edit_course_forms } %}
            </div>
            <div class="row">
                <h2 style="margin-top: 5vh; margin-left: 1vw" > leçons : </h2>
                <div id="container" class="row" style="margin: 1vw; background-color: #FFFFFF">
                    {% include 'lesson/_add_lesson.html.twig' with { 'add_lesson_form': add_lesson_form } %}
                </div>
                {% include 'lesson/_lesson_list_orm.html.twig' with { 'lessons': lessons, 'edit_lesson_forms': edit_lesson_forms } %}
            </div>
        </div>
    {% endif %}
    {% if storage in ['mongodb', 'both'] %}
        <div id="container" class="row" style="margin: 5vw; background-color: #F1F8FC">    
            <div class="row">
                <h2 style="margin-top: 5vh; margin-left: 1vw" >utilisateurs :</h2>
                <div id="container" class="row" style="margin: 1vw; background-color: #FFFFFF">
                    {% include 'user/_add_user_mongo.html.twig' with { 'add_form_mongo': add_form_mongo } %}
                </div>
                {% include 'user/_user_list_mongo.html.twig' with { 'usersMongo': usersMongo, 'edit_forms': edit_forms } %}
            </div>
            <div class="row">
                <h2 style="margin-top: 5vh; margin-left: 1vw" > formations : </h2>
                <h2 style="margin-top: 5vh; margin-left: 1vw" >thèmes :</h2>
                    <div id="container" class="row" style="margin: 1vw; background-color: #FFFFFF">
                        {% include 'theme/_add_theme_mongo.html.twig' with { 'add_theme_form_mongo': add_theme_form_mongo } %}
                    </div>
                    {% include 'theme/_theme_list_mongo.html.twig' with { 'themesMongo': themesMongo, 'edit_theme_forms': edit_theme_forms } %}
            </div>
            <div class="row">
                <h2 style="margin-top: 5vh; margin-left: 1vw" >cursus :</h2>
                <div id="container" class="row" style="margin: 1vw; background-color: #FFFFFF">
                    {% include 'course/_add_course_mongo.html.twig' with { 'add_course_form_mongo': add_course_form_mongo } %}
                </div>
                {% include 'course/_course_list_mongo.html.twig' with { 'coursesMongo': coursesMongo, 'edit_course_forms': edit_course_forms } %}
            </div>
            <div class="row">
                <h2 style="margin-top: 5vh; margin-left: 1vw" > leçons : </h2>
                <div id="container" class="row" style="margin: 1vw; background-color: #FFFFFF">
                    {% include 'lesson/_add_lesson_mongo.html.twig' with { 'add_lesson_form_mongo': add_lesson_form_mongo } %}
                </div>
                {% include 'lesson/_lesson_list_mongo.html.twig' with { 'lessonsMongo': lessonsMongo, 'edit_lesson_forms': edit_lesson_forms } %}
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}

   